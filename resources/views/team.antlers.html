{{# Team Listing Page #}}

{{# Render Page Builder Blocks (Hero Banner, etc.) #}}
{{ if page_builder }}
    {{ page_builder }}
        {{ if type == "hero_banner" }}
            {{ partial:partials/blocks/hero_banner }}
        {{ elseif type == "text_content_block" }}
            {{ partial:partials/blocks/text_content_block }}
        {{ elseif type == "image_content_block" }}
            {{ partial:partials/blocks/image_content_block }}
        {{ elseif type == "enquiry_cta_form" }}
            {{ partial:partials/blocks/enquiry_cta_form }}
        {{ /if }}
    {{ /page_builder }}
{{ /if }}

{{# Team Section #}}
<section class="team-section py-16 lg:py-24">
    <div class="container mx-auto px-4">
        <!-- Filter Buttons -->
        <div class="team-filters flex flex-wrap justify-center gap-4 mb-12">
            <button class="filter-btn active px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary transition-all duration-300 hover:scale-110" data-filter="all">
                All
            </button>
            {{# Dynamically generate filter buttons from unique categories used by team members #}}
            {{ collection:team }}
                {{ if category }}
                    {{# category is a single term (max_items: 1), not an array #}}
                    <button class="filter-btn px-6 py-3 bg-gray-100 text-secondary rounded-lg font-semibold hover:bg-primary hover:text-white transition-all duration-300 hover:scale-110" data-filter="{{ category:slug }}" data-category-button="{{ category:slug }}">
                        {{ category:title }}
                    </button>
                {{ /if }}
            {{ /collection:team }}
        </div>
        
        <div class="team-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            {{ collection:team }}
            {{# Get category slug from terms field (single term, not array) #}}
            {{ if category }}
                {{ category_slug = category:slug }}
            {{ else }}
                {{ category_slug = 'all' }}
            {{ /if }}
            <div class="team-item relative min-h-[468px] overflow-hidden z-[2] group" data-category="{{ category_slug }}">
                <!-- Gradient Overlay -->
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[84%] to-secondary z-[3] pointer-events-none"></div>
                
                <!-- Team Image -->
                <div class="team-images overflow-hidden absolute inset-0">
                    {{ if image }}
                    <img src="{{ image }}" alt="{{ title }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-[1.12]">
                    {{ /if }}
                </div>
                
                <!-- Team Content -->
                <div class="team-content absolute bottom-0 left-0 w-full px-8 py-6 bg-secondary z-[5]">
                    <div class="team-text">
                        {{ if title }}
                        <h5 class="title text-xl font-bold text-white mb-2 tracking-tight">
                            <a href="{{ url }}" class="hover:text-primary transition-colors">
                                {{ title }}
                            </a>
                        </h5>
                        {{ /if }}
                        {{ if job_title }}
                        <span class="sub-title inline-block text-sm text-white/70 leading-none">{{ job_title }}</span>
                        {{ /if }}
                    </div>
                </div>
                
                <!-- Social Icons (Slide in from right on hover) -->
                <div class="team-share absolute bottom-8 -right-8 opacity-0 invisible transition-all duration-[400ms] ease-in-out group-hover:opacity-100 group-hover:visible group-hover:right-8 z-[6]">
                    <ul class="flex flex-col gap-1.5 m-0 p-0 list-none">
                        {{ if linkedin_url }}
                        <li>
                            <a href="{{ linkedin_url }}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center w-6 h-6 rounded-full text-sm bg-[rgba(223,236,253,0.4)] text-secondary leading-none hover:bg-primary hover:text-white transition-all duration-300">
                                <i class="fa-brands fa-linkedin-in"></i>
                            </a>
                        </li>
                        {{ /if }}
                        {{ if email }}
                        <li>
                            <a href="mailto:{{ email }}" class="inline-flex items-center justify-center w-6 h-6 rounded-full text-sm bg-[rgba(223,236,253,0.4)] text-secondary leading-none hover:bg-primary hover:text-white transition-all duration-300">
                                <i class="fa-solid fa-envelope"></i>
                            </a>
                        </li>
                        {{ /if }}
                    </ul>
                </div>
            </div>
            {{ /collection:team }}
        </div>
    </div>
</section>
<!-- start: Team Contact Section -->
<section class="contact-team-details py-12 lg:py-16" id="scroll-cta">
    <div class="container mx-auto px-4">
        <div class="contact-team-details__inner bg-section-bg rounded-2xl p-6 md:p-8 lg:p-12 xl:p-16 lg:pl-12 xl:pl-16">
            <div class="row flex flex-col lg:flex-row gap-8 lg:gap-12">
                <!-- Left Content -->
                <div class="w-full lg:w-5/12">
                    <div class="sec-heading style-2">
                        <span class="sub-title inline-block text-primary font-semibold mb-4 text-sm uppercase tracking-wider wow fadeInUp" data-wow-delay="0.1s">// CONTACT US</span>
                        {{ if contact_info:team_contact_title }}
                        <h2 class="sec-title text-anim text-3xl lg:text-4xl font-bold text-secondary mb-6">{{ contact_info:team_contact_title }}</h2>
                        {{ /if }}
                        {{ if contact_info:team_contact_description }}
                        <p class="desc text-gray-600 text-base leading-relaxed mb-6 wow fadeInUp" data-wow-delay="0.3s">
                            {{ contact_info:team_contact_description }}
                        </p>
                        {{ /if }}
                        {{ if contact_info:email }}
                        <h6 class="contact-team-details__message text-base font-medium text-secondary mt-6 wow fadeInUp" data-wow-delay="0.5s">
                            <a href="mailto:{{ contact_info:email }}" class="inline-flex items-center gap-2 hover:text-primary transition-colors">
                                <i class="tji-chat text-primary"></i>
                                <span>{{ contact_info:email }}</span>
                            </a>
                        </h6>
                        {{ /if }}
                    </div>
                </div>
                <!-- Right Form -->
                <div class="w-full lg:w-7/12">
                    <form action="#0" class="contact-team-details__form grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-5 mt-0 lg:mt-0 lg:pl-16 xl:pl-24 wow fadeInUp" data-wow-delay="0.7s">
                        <div class="tj-input__wrapper w-full">
                            <input class="tj-input w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-500 focus:outline-none focus:border-primary focus:bg-white transition-colors" type="text" placeholder="Full name*" required>
                        </div>
                        <div class="tj-input__wrapper w-full">
                            <input class="tj-input w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-500 focus:outline-none focus:border-primary focus:bg-white transition-colors" type="email" placeholder="Email address*" required>
                        </div>
                        <div class="tj-input__wrapper w-full">
                            <input class="tj-input w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-500 focus:outline-none focus:border-primary focus:bg-white transition-colors" type="tel" placeholder="Phone number*" required>
                        </div>
                        <div class="tj-input__wrapper w-full relative">
                            <select class="tj-input w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-900 focus:outline-none focus:border-primary focus:bg-white transition-colors appearance-none cursor-pointer pr-10" name="input-options" id="input-options" required>
                                <option value="">Choose an option</option>
                                <option value="cloud">Cloud Solutions</option>
                                <option value="connectivity">Connectivity</option>
                                <option value="communication">Communication</option>
                                <option value="cybersecurity">Cybersecurity</option>
                            </select>
                            <div class="absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none">
                                <i class="ph-fill ph-caret-down text-gray-400"></i>
                            </div>
                        </div>
                        <div class="tj-input__wrapper tj-input__wrapper--message w-full md:col-span-2">
                            <textarea class="tj-input w-full px-6 py-4 bg-white border border-gray-200 rounded-lg text-gray-900 placeholder:text-gray-500 focus:outline-none focus:border-primary focus:bg-white transition-colors resize-none min-h-[200px]" placeholder="Type message" rows="6" required></textarea>
                        </div>
                        <div class="w-full md:col-span-2 mt-2">
                            <button type="submit" class="btn-primary inline-flex">
                                <div class="btn_inner">
                                    <div class="btn_icon">
                                        <span>
                                            <i class="ph-fill ph-caret-right"></i>
                                            <i class="ph-fill ph-caret-right"></i>
                                        </span>
                                    </div>
                                    <div class="btn_text">
                                        <span>Send message</span>
                                    </div>
                                </div>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
        {{# Team Filter JavaScript #}}
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            const teamItems = document.querySelectorAll('.team-item');
            
            // Remove duplicate category buttons (keep only first occurrence)
            const seenCategories = new Set();
            const categoryButtons = document.querySelectorAll('[data-category-button]');
            categoryButtons.forEach(button => {
                const category = button.getAttribute('data-category-button');
                if (seenCategories.has(category)) {
                    button.remove();
                } else {
                    seenCategories.add(category);
                }
            });
            
            // Re-query buttons after removing duplicates
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    
                    // Update active button
                    filterButtons.forEach(btn => {
                        btn.classList.remove('active', 'bg-primary', 'text-white');
                        btn.classList.add('bg-gray-100', 'text-secondary');
                    });
                    this.classList.add('active', 'bg-primary', 'text-white');
                    this.classList.remove('bg-gray-100', 'text-secondary');
                    
                    // Filter team items
                    teamItems.forEach(item => {
                        const category = item.getAttribute('data-category');
                        
                        if (filter === 'all' || category === filter) {
                            item.style.display = 'block';
                            item.style.animation = 'fadeIn 0.5s ease-in';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });
        });
        </script>

<style>
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>

